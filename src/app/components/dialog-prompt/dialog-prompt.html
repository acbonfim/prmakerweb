<div class="dialog-container">
  <div class="dialog-header">
    <h2 mat-dialog-title>Gerar prompt para descrição pull request</h2>
  </div>

  <mat-dialog-content class="dialog-content p-3">
    <div class="row">
      <mat-form-field class="col-12 col-md-2">
        <mat-label>Número do Card</mat-label>
        <input [(ngModel)]="data.cardNumber"
               (ngModelChange)="gerarPrompt()"
               matInput>
      </mat-form-field>

      <mat-form-field class="col-12 col-md-3">
        <mat-label>Commit ID</mat-label>
        <input [(ngModel)]="data.commitID"
               (ngModelChange)="gerarPrompt()"
               matInput>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field class="col-12">
        <mat-label>Reclamação original</mat-label>
        <textarea [(ngModel)]="data.description"
                  (ngModelChange)="gerarPrompt()"
                  matInput></textarea>
      </mat-form-field>

    </div>


    <br>

    @if(promptText){
      <div class="scrollable-content">
        <pre>{{ promptText }}</pre>
      </div>
    }

  </mat-dialog-content>

  <mat-dialog-actions class="dialog-footer">
    <button matButton color="accent"
            [disabled]="!promptText.length"
            (click)="copyPromptToClipboard()"><mat-icon>content_copy</mat-icon> Copiar</button>
    <button matButton mat-dialog-close (click)="dialogRef.close()">Fechar</button>
  </mat-dialog-actions>
</div>
